{"id":"t2IF","dependencies":[{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\analysis\\Analyser.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\Tone\\component\\analysis\\Analyser.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\package.json","includedInParent":true,"mtime":1596313565786},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\package.json","includedInParent":true,"mtime":1596312949653},{"name":"../../core/context/ToneAudioNode","loc":{"line":1,"column":30},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\analysis\\Analyser.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\ToneAudioNode.js"},{"name":"../../core/util/Defaults","loc":{"line":2,"column":37},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\analysis\\Analyser.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\Defaults.js"},{"name":"../channel/Split","loc":{"line":3,"column":22},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\analysis\\Analyser.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\channel\\Split.js"},{"name":"../../core/context/Gain","loc":{"line":4,"column":21},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\analysis\\Analyser.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\Gain.js"},{"name":"../../core/util/Debug","loc":{"line":5,"column":36},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\analysis\\Analyser.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\Debug.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Analyser=void 0;var e=require(\"../../core/context/ToneAudioNode\"),t=require(\"../../core/util/Defaults\"),s=require(\"../channel/Split\"),n=require(\"../../core/context/Gain\"),i=require(\"../../core/util/Debug\");class r extends e.ToneAudioNode{constructor(){super((0,t.optionsFromArguments)(r.getDefaults(),arguments,[\"type\",\"size\"])),this.name=\"Analyser\",this._analysers=[],this._buffers=[];const e=(0,t.optionsFromArguments)(r.getDefaults(),arguments,[\"type\",\"size\"]);this.input=this.output=this._gain=new n.Gain({context:this.context}),this._split=new s.Split({context:this.context,channels:e.channels}),this.input.connect(this._split),(0,i.assertRange)(e.channels,1);for(let t=0;t<e.channels;t++)this._analysers[t]=this.context.createAnalyser(),this._split.connect(this._analysers[t],t,0);this.size=e.size,this.type=e.type}static getDefaults(){return Object.assign(e.ToneAudioNode.getDefaults(),{size:1024,smoothing:.8,type:\"fft\",channels:1})}getValue(){return this._analysers.forEach((e,t)=>{const s=this._buffers[t];\"fft\"===this._type?e.getFloatFrequencyData(s):\"waveform\"===this._type&&e.getFloatTimeDomainData(s)}),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((t,s)=>{t.fftSize=2*e,this._buffers[s]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){(0,i.assert)(\"waveform\"===e||\"fft\"===e,`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(t=>t.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}exports.Analyser=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":0}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":13}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":20}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":35}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":43}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":56}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":57}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":64}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":68}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":76}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":90}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":210}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":247}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":249}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":257}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":282}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":288}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":30},"generated":{"line":1,"column":298}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":300}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":60,"column":1},"generated":{"line":1,"column":314}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":328}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":335}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":337}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":339}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":361}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":38},"generated":{"line":1,"column":363}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":53},"generated":{"line":1,"column":377}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":64},"generated":{"line":1,"column":387}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":65},"generated":{"line":1,"column":388}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":61,"column":73},"generated":{"line":1,"column":395}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":405}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":410}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":1,"column":415}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":426}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":431}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":32,"column":38},"generated":{"line":1,"column":442}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":445}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":450}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":52,"column":36},"generated":{"line":1,"column":459}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":462}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":468}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":471}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":39},"generated":{"line":1,"column":473}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":39},"generated":{"line":1,"column":475}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":39},"generated":{"line":1,"column":497}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":48},"generated":{"line":1,"column":499}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":63},"generated":{"line":1,"column":513}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":74},"generated":{"line":1,"column":523}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":75},"generated":{"line":1,"column":524}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":62,"column":83},"generated":{"line":1,"column":531}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":1,"column":540}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":1,"column":545}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":551}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":20},"generated":{"line":1,"column":556}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":29},"generated":{"line":1,"column":563}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":568}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":42},"generated":{"line":1,"column":574}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":46},"generated":{"line":1,"column":578}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":42},"generated":{"line":1,"column":580}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":51},"generated":{"line":1,"column":585}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":53},"generated":{"line":1,"column":586}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":62},"generated":{"line":1,"column":594}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":64,"column":67},"generated":{"line":1,"column":599}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":65,"column":7},"generated":{"line":1,"column":609}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":65,"column":7},"generated":{"line":1,"column":614}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":1,"column":621}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":1,"column":625}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":1,"column":627}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":1,"column":633}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":66,"column":3},"generated":{"line":1,"column":634}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":1,"column":642}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":66,"column":17},"generated":{"line":1,"column":647}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":67,"column":3},"generated":{"line":1,"column":655}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":664}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":67,"column":21},"generated":{"line":1,"column":666}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":69,"column":7},"generated":{"line":1,"column":677}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":69,"column":7},"generated":{"line":1,"column":682}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":69,"column":13},"generated":{"line":1,"column":688}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":69,"column":21},"generated":{"line":1,"column":696}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":69,"column":26},"generated":{"line":1,"column":701}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":710}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":712}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":714}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":727}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":1,"column":729}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":71,"column":32},"generated":{"line":1,"column":738}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":7},"generated":{"line":1,"column":741}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":7},"generated":{"line":1,"column":745}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":749}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":21},"generated":{"line":1,"column":751}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":24},"generated":{"line":1,"column":753}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":34},"generated":{"line":1,"column":755}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":42},"generated":{"line":1,"column":757}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":74,"column":52},"generated":{"line":1,"column":766}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":770}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":775}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":75,"column":19},"generated":{"line":1,"column":786}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":789}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":75,"column":35},"generated":{"line":1,"column":794}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":75,"column":43},"generated":{"line":1,"column":802}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":819}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":824}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":831}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":23},"generated":{"line":1,"column":839}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":28},"generated":{"line":1,"column":844}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":39},"generated":{"line":1,"column":855}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":49},"generated":{"line":1,"column":858}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":76,"column":58},"generated":{"line":1,"column":860}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":80,"column":7},"generated":{"line":1,"column":863}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":80,"column":7},"generated":{"line":1,"column":868}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":80,"column":14},"generated":{"line":1,"column":873}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":875}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":81,"column":7},"generated":{"line":1,"column":880}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":81,"column":7},"generated":{"line":1,"column":885}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":81,"column":14},"generated":{"line":1,"column":890}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":81,"column":22},"generated":{"line":1,"column":892}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":897}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":9},"generated":{"line":1,"column":918}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":9},"generated":{"line":1,"column":925}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":16},"generated":{"line":1,"column":932}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":23},"generated":{"line":1,"column":939}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":37},"generated":{"line":1,"column":941}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":37},"generated":{"line":1,"column":955}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":85,"column":52},"generated":{"line":1,"column":969}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":86,"column":3},"generated":{"line":1,"column":970}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":975}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":87,"column":3},"generated":{"line":1,"column":980}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":1,"column":990}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":88,"column":3},"generated":{"line":1,"column":993}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":88,"column":9},"generated":{"line":1,"column":998}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":89,"column":3},"generated":{"line":1,"column":1004}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":1013}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":99,"column":1},"generated":{"line":1,"column":1017}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":1,"column":1028}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":1035}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":1040}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":100,"column":18},"generated":{"line":1,"column":1051}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":100,"column":26},"generated":{"line":1,"column":1059}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":100,"column":27},"generated":{"line":1,"column":1060}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":1,"column":1062}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":1067}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":1073}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":101,"column":18},"generated":{"line":1,"column":1075}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":101,"column":23},"generated":{"line":1,"column":1080}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":101,"column":32},"generated":{"line":1,"column":1089}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":102,"column":22},"generated":{"line":1,"column":1092}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":102,"column":7},"generated":{"line":1,"column":1100}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":102,"column":12},"generated":{"line":1,"column":1105}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":1111}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":1113}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":103,"column":35},"generated":{"line":1,"column":1135}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":104,"column":29},"generated":{"line":1,"column":1138}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":104,"column":14},"generated":{"line":1,"column":1151}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1156}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":1,"column":1163}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":1165}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":105,"column":36},"generated":{"line":1,"column":1188}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":108,"column":24},"generated":{"line":1,"column":1193}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":1,"column":1197}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1202}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":1211}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":109,"column":15},"generated":{"line":1,"column":1216}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":109,"column":24},"generated":{"line":1,"column":1225}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":111,"column":10},"generated":{"line":1,"column":1228}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":111,"column":15},"generated":{"line":1,"column":1233}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":118,"column":5},"generated":{"line":1,"column":1242}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1253}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1260}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":119,"column":14},"generated":{"line":1,"column":1265}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":119,"column":25},"generated":{"line":1,"column":1276}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":119,"column":28},"generated":{"line":1,"column":1279}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":121,"column":5},"generated":{"line":1,"column":1297}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":121,"column":10},"generated":{"line":1,"column":1306}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":122,"column":7},"generated":{"line":1,"column":1309}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":122,"column":7},"generated":{"line":1,"column":1314}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":122,"column":18},"generated":{"line":1,"column":1325}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":122,"column":26},"generated":{"line":1,"column":1333}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1334}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":122,"column":37},"generated":{"line":1,"column":1336}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":123,"column":3},"generated":{"line":1,"column":1341}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":123,"column":12},"generated":{"line":1,"column":1343}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":123,"column":29},"generated":{"line":1,"column":1351}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":123,"column":22},"generated":{"line":1,"column":1353}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1355}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1360}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":124,"column":17},"generated":{"line":1,"column":1369}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":124,"column":26},"generated":{"line":1,"column":1372}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":1,"column":1376}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":124,"column":43},"generated":{"line":1,"column":1389}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":132,"column":5},"generated":{"line":1,"column":1394}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":1,"column":1409}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":1,"column":1416}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":133,"column":14},"generated":{"line":1,"column":1421}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":133,"column":25},"generated":{"line":1,"column":1432}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":139,"column":5},"generated":{"line":1,"column":1439}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":140,"column":9},"generated":{"line":1,"column":1450}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":140,"column":9},"generated":{"line":1,"column":1457}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":140,"column":14},"generated":{"line":1,"column":1462}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":142,"column":5},"generated":{"line":1,"column":1468}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":142,"column":10},"generated":{"line":1,"column":1477}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":9},"generated":{"line":1,"column":1481}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":9},"generated":{"line":1,"column":1483}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":9},"generated":{"line":1,"column":1485}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":18},"generated":{"line":1,"column":1493}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":9},"generated":{"line":1,"column":1506}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":41},"generated":{"line":1,"column":1509}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":32},"generated":{"line":1,"column":1517}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":143,"column":75},"generated":{"line":1,"column":1546}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":144,"column":7},"generated":{"line":1,"column":1551}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":144,"column":7},"generated":{"line":1,"column":1556}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":144,"column":15},"generated":{"line":1,"column":1562}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":150,"column":5},"generated":{"line":1,"column":1564}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":151,"column":9},"generated":{"line":1,"column":1580}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":151,"column":9},"generated":{"line":1,"column":1587}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":151,"column":14},"generated":{"line":1,"column":1592}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":151,"column":25},"generated":{"line":1,"column":1603}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":151,"column":28},"generated":{"line":1,"column":1606}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":153,"column":5},"generated":{"line":1,"column":1628}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":153,"column":15},"generated":{"line":1,"column":1642}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":7},"generated":{"line":1,"column":1645}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":7},"generated":{"line":1,"column":1650}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":18},"generated":{"line":1,"column":1661}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":26},"generated":{"line":1,"column":1669}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":31},"generated":{"line":1,"column":1672}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":33},"generated":{"line":1,"column":1674}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":154,"column":57},"generated":{"line":1,"column":1696}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":160,"column":1},"generated":{"line":1,"column":1699}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":165,"column":9},"generated":{"line":1,"column":1709}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":161,"column":8},"generated":{"line":1,"column":1716}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":161,"column":8},"generated":{"line":1,"column":1722}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":1,"column":1732}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":1,"column":1737}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":162,"column":18},"generated":{"line":1,"column":1748}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":162,"column":26},"generated":{"line":1,"column":1756}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":162,"column":31},"generated":{"line":1,"column":1759}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":162,"column":33},"generated":{"line":1,"column":1761}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":163,"column":7},"generated":{"line":1,"column":1775}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":163,"column":7},"generated":{"line":1,"column":1780}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":163,"column":14},"generated":{"line":1,"column":1787}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":164,"column":7},"generated":{"line":1,"column":1797}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":164,"column":7},"generated":{"line":1,"column":1802}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":164,"column":13},"generated":{"line":1,"column":1808}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":165,"column":9},"generated":{"line":1,"column":1818}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":1824}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":1832}},{"source":"../../../../Tone/component/analysis/Analyser.ts","name":null,"original":{"line":22,"column":60},"generated":{"line":1,"column":1841}}],"sources":{"../../../../Tone/component/analysis/Analyser.ts":"import { InputNode, OutputNode, ToneAudioNode, ToneAudioNodeOptions } from \"../../core/context/ToneAudioNode\";\nimport { NormalRange, PowerOfTwo } from \"../../core/type/Units\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { Split } from \"../channel/Split\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { assert, assertRange } from \"../../core/util/Debug\";\n\nexport type AnalyserType = \"fft\" | \"waveform\";\n\nexport interface AnalyserOptions extends ToneAudioNodeOptions {\n\tsize: PowerOfTwo;\n\ttype: AnalyserType;\n\tsmoothing: NormalRange;\n\tchannels: number;\n}\n\n/**\n * Wrapper around the native Web Audio's [AnalyserNode](http://webaudio.github.io/web-audio-api/#idl-def-AnalyserNode).\n * Extracts FFT or Waveform data from the incoming signal.\n * @category Component\n */\nexport class Analyser extends ToneAudioNode<AnalyserOptions> {\n\n\treadonly name: string = \"Analyser\";\n\n\treadonly input: InputNode;\n\treadonly output: OutputNode;\n\n\t/**\n\t * The analyser node.\n\t */\n\tprivate _analysers: AnalyserNode[] = [];\n\n\t/**\n\t * Input and output are a gain node\n\t */\n\tprivate _gain: Gain;\n\n\t/**\n\t * The channel splitter node\n\t */\n\tprivate _split: Split;\n\n\t/**\n\t * The analysis type\n\t */\n\tprivate _type!: AnalyserType;\n\n\t/**\n\t * The buffer that the FFT data is written to\n\t */\n\tprivate _buffers: Float32Array[] = [];\n\n\t/**\n\t * @param type The return type of the analysis, either \"fft\", or \"waveform\".\n\t * @param size The size of the FFT. This must be a power of two in the range 16 to 16384.\n\t */\n\tconstructor(type?: AnalyserType, size?: number);\n\tconstructor(options?: Partial<AnalyserOptions>);\n\tconstructor() {\n\t\tsuper(optionsFromArguments(Analyser.getDefaults(), arguments, [\"type\", \"size\"]));\n\t\tconst options = optionsFromArguments(Analyser.getDefaults(), arguments, [\"type\", \"size\"]);\n\n\t\tthis.input = this.output = this._gain = new Gain({ context: this.context });\n\t\tthis._split = new Split({\n\t\t\tcontext: this.context,\n\t\t\tchannels: options.channels,\n\t\t});\n\t\tthis.input.connect(this._split);\n\t\t\n\t\tassertRange(options.channels, 1);\n\t\t\n\t\t// create the analysers\n\t\tfor (let channel = 0; channel < options.channels; channel++) {\n\t\t\tthis._analysers[channel] = this.context.createAnalyser();\n\t\t\tthis._split.connect(this._analysers[channel], channel, 0);\n\t\t}\n\n\t\t// set the values initially\n\t\tthis.size = options.size;\n\t\tthis.type = options.type;\n\t}\n\n\tstatic getDefaults(): AnalyserOptions {\n\t\treturn Object.assign(ToneAudioNode.getDefaults(), {\n\t\t\tsize: 1024,\n\t\t\tsmoothing: 0.8,\n\t\t\ttype: \"fft\" as AnalyserType,\n\t\t\tchannels: 1,\n\t\t});\n\t}\n\n\t/**\n\t * Run the analysis given the current settings. If [[channels]] = 1,\n\t * it will return a Float32Array. If [[channels]] > 1, it will\n\t * return an array of Float32Arrays where each index in the array\n\t * represents the analysis done on a channel.\n\t */\n\tgetValue(): Float32Array | Float32Array[] {\n\t\tthis._analysers.forEach((analyser, index) => {\n\t\t\tconst buffer = this._buffers[index];\n\t\t\tif (this._type === \"fft\") {\n\t\t\t\tanalyser.getFloatFrequencyData(buffer);\n\t\t\t} else if (this._type === \"waveform\") {\n\t\t\t\tanalyser.getFloatTimeDomainData(buffer);\n\t\t\t}\n\t\t});\n\t\tif (this.channels === 1) {\n\t\t\treturn this._buffers[0];\n\t\t} else {\n\t\t\treturn this._buffers;\n\t\t}\n\t}\n\n\t/**\n\t * The size of analysis. This must be a power of two in the range 16 to 16384.\n\t */\n\tget size(): PowerOfTwo {\n\t\treturn this._analysers[0].frequencyBinCount;\n\t}\n\tset size(size: PowerOfTwo) {\n\t\tthis._analysers.forEach((analyser, index) => {\n\t\t\tanalyser.fftSize = size * 2;\n\t\t\tthis._buffers[index] = new Float32Array(size);\n\t\t});\n\t}\n\n\t/**\n\t * The number of channels the analyser does the analysis on. Channel\n\t * separation is done using [[Split]]\n\t */\n\tget channels(): number {\n\t\treturn this._analysers.length;\n\t}\n\n\t/**\n\t * The analysis function returned by analyser.getValue(), either \"fft\" or \"waveform\".\n\t */\n\tget type(): AnalyserType {\n\t\treturn this._type;\n\t}\n\tset type(type: AnalyserType) {\n\t\tassert(type === \"waveform\" || type === \"fft\", `Analyser: invalid type: ${type}`);\n\t\tthis._type = type;\n\t}\n\n\t/**\n\t * 0 represents no time averaging with the last analysis frame.\n\t */\n\tget smoothing(): NormalRange {\n\t\treturn this._analysers[0].smoothingTimeConstant;\n\t}\n\tset smoothing(val: NormalRange) {\n\t\tthis._analysers.forEach(a => a.smoothingTimeConstant = val);\n\t}\n\n\t/**\n\t * Clean up.\n\t */\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis._analysers.forEach(a => a.disconnect());\n\t\tthis._split.dispose();\n\t\tthis._gain.dispose();\n\t\treturn this;\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"27ef9ce70be22f730e074aa9e5c9c9ec","cacheData":{"env":{}}}