{"id":"zL1f","dependencies":[{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\Tone\\source\\UserMedia.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\package.json","includedInParent":true,"mtime":1596313565786},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\package.json","includedInParent":true,"mtime":1596312949653},{"name":"tslib","loc":{"line":1,"column":26},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tslib\\tslib.es6.js"},{"name":"../core/context/ToneAudioNode","loc":{"line":2,"column":39},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\ToneAudioNode.js"},{"name":"../component/channel/Volume","loc":{"line":3,"column":23},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\component\\channel\\Volume.js"},{"name":"../core/util/Defaults","loc":{"line":4,"column":37},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\Defaults.js"},{"name":"../core/util/Debug","loc":{"line":5,"column":23},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\Debug.js"},{"name":"../core/util/Interface","loc":{"line":6,"column":25},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\Interface.js"},{"name":"../core/util/TypeCheck","loc":{"line":7,"column":36},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\source\\UserMedia.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\TypeCheck.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.UserMedia=void 0;var e=require(\"tslib\"),t=require(\"../core/context/ToneAudioNode\"),i=require(\"../component/channel/Volume\"),s=require(\"../core/util/Defaults\"),o=require(\"../core/util/Debug\"),r=require(\"../core/util/Interface\"),u=require(\"../core/util/TypeCheck\");class d extends t.ToneAudioNode{constructor(){super((0,s.optionsFromArguments)(d.getDefaults(),arguments,[\"volume\"])),this.name=\"UserMedia\";const e=(0,s.optionsFromArguments)(d.getDefaults(),arguments,[\"volume\"]);this._volume=this.output=new i.Volume({context:this.context,volume:e.volume}),this.volume=this._volume.volume,(0,r.readOnly)(this,\"volume\"),this.mute=e.mute}static getDefaults(){return Object.assign(t.ToneAudioNode.getDefaults(),{mute:!1,volume:0})}open(i){return(0,e.__awaiter)(this,void 0,void 0,function*(){(0,o.assert)(d.supported,\"UserMedia is not supported\"),\"started\"===this.state&&this.close();const e=yield d.enumerateDevices();(0,u.isNumber)(i)?this._device=e[i]:(this._device=e.find(e=>e.label===i||e.deviceId===i),!this._device&&e.length>0&&(this._device=e[0]),(0,o.assert)((0,u.isDefined)(this._device),`No matching device ${i}`));const s={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(s.audio.deviceId=this._device.deviceId);const r=yield navigator.mediaDevices.getUserMedia(s);if(!this._stream){this._stream=r;const e=this.context.createMediaStreamSource(r);(0,t.connect)(e,this.output),this._mediaStream=e}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(e=>{e.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return(0,e.__awaiter)(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(e=>\"audioinput\"===e.kind)})}get state(){return this._stream&&this._stream.active?\"started\":\"stopped\"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return(0,u.isDefined)(navigator.mediaDevices)&&(0,u.isDefined)(navigator.mediaDevices.getUserMedia)}}exports.UserMedia=d;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":0}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":13}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":20}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":35}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":43}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":56}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":57}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":64}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":68}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":76}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":91}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":93}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":97}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":99}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":107}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":118}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":159}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":161}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":169}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":200}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":210}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":235}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":237}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":245}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":267}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":269}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":277}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":303}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":305}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":313}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":339}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":345}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":355}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":357}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":71,"column":1},"generated":{"line":1,"column":371}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":385}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":392}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":1,"column":394}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":1,"column":396}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":1,"column":418}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":39},"generated":{"line":1,"column":420}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":54},"generated":{"line":1,"column":434}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":65},"generated":{"line":1,"column":444}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":73,"column":66},"generated":{"line":1,"column":445}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":457}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":462}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":36,"column":25},"generated":{"line":1,"column":467}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":479}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":485}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":18},"generated":{"line":1,"column":488}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":39},"generated":{"line":1,"column":490}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":39},"generated":{"line":1,"column":492}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":39},"generated":{"line":1,"column":514}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":49},"generated":{"line":1,"column":516}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":64},"generated":{"line":1,"column":530}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":75},"generated":{"line":1,"column":540}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":74,"column":76},"generated":{"line":1,"column":541}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":7},"generated":{"line":1,"column":552}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":7},"generated":{"line":1,"column":557}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":17},"generated":{"line":1,"column":565}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":22},"generated":{"line":1,"column":570}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":31},"generated":{"line":1,"column":577}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":35},"generated":{"line":1,"column":581}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":31},"generated":{"line":1,"column":583}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":76,"column":42},"generated":{"line":1,"column":590}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":77,"column":3},"generated":{"line":1,"column":591}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":599}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":604}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":78,"column":3},"generated":{"line":1,"column":612}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":619}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":1,"column":621}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":80,"column":7},"generated":{"line":1,"column":630}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":80,"column":7},"generated":{"line":1,"column":635}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":80,"column":16},"generated":{"line":1,"column":642}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":80,"column":21},"generated":{"line":1,"column":647}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":80,"column":29},"generated":{"line":1,"column":655}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":663}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":665}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":667}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":677}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":81,"column":17},"generated":{"line":1,"column":682}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":82,"column":7},"generated":{"line":1,"column":692}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":82,"column":7},"generated":{"line":1,"column":697}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":82,"column":14},"generated":{"line":1,"column":702}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":82,"column":22},"generated":{"line":1,"column":704}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":709}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":730}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":737}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":16},"generated":{"line":1,"column":744}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":23},"generated":{"line":1,"column":751}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":37},"generated":{"line":1,"column":753}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":37},"generated":{"line":1,"column":767}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":86,"column":52},"generated":{"line":1,"column":781}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":87,"column":3},"generated":{"line":1,"column":782}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":788}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":88,"column":3},"generated":{"line":1,"column":790}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":797}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":801}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":806}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":809}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":816}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":818}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":820}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":831}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":841}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":848}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":850}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":863}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":865}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":867}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":875}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":101,"column":19},"generated":{"line":1,"column":877}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":101,"column":30},"generated":{"line":1,"column":887}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":103,"column":21},"generated":{"line":1,"column":917}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":1,"column":929}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":934}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":941}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":946}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":954}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":960}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":106,"column":24},"generated":{"line":1,"column":968}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":106,"column":34},"generated":{"line":1,"column":970}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":1,"column":990}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":107,"column":15},"generated":{"line":1,"column":992}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":107,"column":15},"generated":{"line":1,"column":994}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":107,"column":15},"generated":{"line":1,"column":1004}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":1007}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":1012}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":108,"column":18},"generated":{"line":1,"column":1020}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":108,"column":26},"generated":{"line":1,"column":1022}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1026}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1031}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":110,"column":18},"generated":{"line":1,"column":1039}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":110,"column":26},"generated":{"line":1,"column":1041}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":110,"column":32},"generated":{"line":1,"column":1046}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1049}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":111,"column":18},"generated":{"line":1,"column":1051}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":111,"column":28},"generated":{"line":1,"column":1059}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":111,"column":41},"generated":{"line":1,"column":1062}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":111,"column":48},"generated":{"line":1,"column":1064}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":111,"column":61},"generated":{"line":1,"column":1075}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":114,"column":8},"generated":{"line":1,"column":1079}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":1,"column":1084}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":114,"column":24},"generated":{"line":1,"column":1093}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":114,"column":32},"generated":{"line":1,"column":1095}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":114,"column":41},"generated":{"line":1,"column":1102}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":115,"column":9},"generated":{"line":1,"column":1106}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":115,"column":9},"generated":{"line":1,"column":1111}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":115,"column":19},"generated":{"line":1,"column":1119}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":115,"column":27},"generated":{"line":1,"column":1121}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1126}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1128}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1130}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1139}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":20},"generated":{"line":1,"column":1141}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":20},"generated":{"line":1,"column":1143}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":20},"generated":{"line":1,"column":1154}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":25},"generated":{"line":1,"column":1159}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":117,"column":57},"generated":{"line":1,"column":1190}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":1196}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":1202}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":120,"column":22},"generated":{"line":1,"column":1204}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":121,"column":3},"generated":{"line":1,"column":1205}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":121,"column":10},"generated":{"line":1,"column":1211}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":1,"column":1212}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":122,"column":22},"generated":{"line":1,"column":1230}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":1232}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":1,"column":1243}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":123,"column":21},"generated":{"line":1,"column":1248}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":123,"column":29},"generated":{"line":1,"column":1256}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":124,"column":4},"generated":{"line":1,"column":1267}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":124,"column":22},"generated":{"line":1,"column":1285}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":1,"column":1287}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":125,"column":25},"generated":{"line":1,"column":1308}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":128,"column":6},"generated":{"line":1,"column":1312}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":128,"column":11},"generated":{"line":1,"column":1317}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":130,"column":3},"generated":{"line":1,"column":1327}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":130,"column":15},"generated":{"line":1,"column":1329}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":130,"column":21},"generated":{"line":1,"column":1335}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":130,"column":32},"generated":{"line":1,"column":1344}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":130,"column":37},"generated":{"line":1,"column":1349}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":130,"column":45},"generated":{"line":1,"column":1357}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":1367}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":1373}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":132,"column":23},"generated":{"line":1,"column":1381}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":132,"column":33},"generated":{"line":1,"column":1391}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":132,"column":46},"generated":{"line":1,"column":1404}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":132,"column":59},"generated":{"line":1,"column":1417}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":134,"column":6},"generated":{"line":1,"column":1420}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":134,"column":7},"generated":{"line":1,"column":1424}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":134,"column":12},"generated":{"line":1,"column":1429}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":134,"column":21},"generated":{"line":1,"column":1437}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":135,"column":8},"generated":{"line":1,"column":1438}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":135,"column":8},"generated":{"line":1,"column":1443}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":135,"column":18},"generated":{"line":1,"column":1451}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":137,"column":9},"generated":{"line":1,"column":1453}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":137,"column":9},"generated":{"line":1,"column":1459}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":137,"column":27},"generated":{"line":1,"column":1461}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":137,"column":32},"generated":{"line":1,"column":1466}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":137,"column":40},"generated":{"line":1,"column":1474}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":137,"column":64},"generated":{"line":1,"column":1498}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":1502}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":1504}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":1506}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":1515}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":139,"column":28},"generated":{"line":1,"column":1517}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":139,"column":33},"generated":{"line":1,"column":1522}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":140,"column":8},"generated":{"line":1,"column":1530}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":140,"column":8},"generated":{"line":1,"column":1535}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":140,"column":23},"generated":{"line":1,"column":1548}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":142,"column":9},"generated":{"line":1,"column":1550}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":142,"column":9},"generated":{"line":1,"column":1557}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":148,"column":1},"generated":{"line":1,"column":1564}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":159,"column":9},"generated":{"line":1,"column":1572}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":1,"column":1579}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":149,"column":11},"generated":{"line":1,"column":1584}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":149,"column":22},"generated":{"line":1,"column":1593}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":149,"column":27},"generated":{"line":1,"column":1598}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":150,"column":8},"generated":{"line":1,"column":1613}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":150,"column":8},"generated":{"line":1,"column":1618}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":150,"column":16},"generated":{"line":1,"column":1626}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":150,"column":33},"generated":{"line":1,"column":1643}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":150,"column":42},"generated":{"line":1,"column":1651}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":151,"column":4},"generated":{"line":1,"column":1655}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":151,"column":10},"generated":{"line":1,"column":1657}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":153,"column":8},"generated":{"line":1,"column":1666}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":153,"column":8},"generated":{"line":1,"column":1671}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":153,"column":18},"generated":{"line":1,"column":1684}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":1,"column":1686}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":1,"column":1691}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":155,"column":21},"generated":{"line":1,"column":1704}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":1,"column":1717}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":1,"column":1722}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":156,"column":23},"generated":{"line":1,"column":1740}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":158,"column":7},"generated":{"line":1,"column":1743}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":158,"column":7},"generated":{"line":1,"column":1748}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":158,"column":17},"generated":{"line":1,"column":1761}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":159,"column":9},"generated":{"line":1,"column":1763}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":171,"column":14},"generated":{"line":1,"column":1768}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1794}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1801}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1803}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1805}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1816}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1826}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1833}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1835}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":173,"column":9},"generated":{"line":1,"column":1847}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":172,"column":27},"generated":{"line":1,"column":1860}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":172,"column":37},"generated":{"line":1,"column":1870}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":172,"column":50},"generated":{"line":1,"column":1883}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":173,"column":20},"generated":{"line":1,"column":1903}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":173,"column":27},"generated":{"line":1,"column":1910}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":174,"column":26},"generated":{"line":1,"column":1913}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":174,"column":10},"generated":{"line":1,"column":1928}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":174,"column":17},"generated":{"line":1,"column":1930}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":182,"column":5},"generated":{"line":1,"column":1938}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":9},"generated":{"line":1,"column":1950}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":9},"generated":{"line":1,"column":1957}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":14},"generated":{"line":1,"column":1962}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":25},"generated":{"line":1,"column":1971}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":30},"generated":{"line":1,"column":1976}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":38},"generated":{"line":1,"column":1984}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":47},"generated":{"line":1,"column":1991}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":183,"column":59},"generated":{"line":1,"column":2001}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":194,"column":5},"generated":{"line":1,"column":2011}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":195,"column":6},"generated":{"line":1,"column":2026}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":195,"column":6},"generated":{"line":1,"column":2033}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":195,"column":11},"generated":{"line":1,"column":2038}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":196,"column":10},"generated":{"line":1,"column":2046}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":196,"column":15},"generated":{"line":1,"column":2051}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":196,"column":23},"generated":{"line":1,"column":2059}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":198,"column":10},"generated":{"line":1,"column":2073}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":207,"column":5},"generated":{"line":1,"column":2075}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":208,"column":6},"generated":{"line":1,"column":2089}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":208,"column":6},"generated":{"line":1,"column":2096}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":208,"column":11},"generated":{"line":1,"column":2101}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":209,"column":10},"generated":{"line":1,"column":2109}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":209,"column":15},"generated":{"line":1,"column":2114}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":209,"column":23},"generated":{"line":1,"column":2122}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":211,"column":10},"generated":{"line":1,"column":2135}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":220,"column":5},"generated":{"line":1,"column":2137}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":221,"column":6},"generated":{"line":1,"column":2149}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":221,"column":6},"generated":{"line":1,"column":2156}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":221,"column":11},"generated":{"line":1,"column":2161}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":222,"column":10},"generated":{"line":1,"column":2169}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":222,"column":15},"generated":{"line":1,"column":2174}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":222,"column":23},"generated":{"line":1,"column":2182}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":224,"column":10},"generated":{"line":1,"column":2193}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":238,"column":5},"generated":{"line":1,"column":2195}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":239,"column":9},"generated":{"line":1,"column":2206}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":239,"column":9},"generated":{"line":1,"column":2213}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":239,"column":14},"generated":{"line":1,"column":2218}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":239,"column":22},"generated":{"line":1,"column":2226}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":241,"column":5},"generated":{"line":1,"column":2231}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":241,"column":10},"generated":{"line":1,"column":2240}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":242,"column":7},"generated":{"line":1,"column":2243}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":242,"column":7},"generated":{"line":1,"column":2248}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":242,"column":15},"generated":{"line":1,"column":2256}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":242,"column":22},"generated":{"line":1,"column":2261}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":245,"column":1},"generated":{"line":1,"column":2263}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":250,"column":9},"generated":{"line":1,"column":2273}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":246,"column":8},"generated":{"line":1,"column":2280}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":246,"column":8},"generated":{"line":1,"column":2286}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":247,"column":7},"generated":{"line":1,"column":2296}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":247,"column":7},"generated":{"line":1,"column":2301}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":248,"column":7},"generated":{"line":1,"column":2309}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":248,"column":7},"generated":{"line":1,"column":2314}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":248,"column":15},"generated":{"line":1,"column":2322}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":249,"column":7},"generated":{"line":1,"column":2332}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":249,"column":7},"generated":{"line":1,"column":2337}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":249,"column":14},"generated":{"line":1,"column":2344}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":250,"column":9},"generated":{"line":1,"column":2354}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":256,"column":12},"generated":{"line":1,"column":2359}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":257,"column":9},"generated":{"line":1,"column":2382}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":257,"column":9},"generated":{"line":1,"column":2389}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":257,"column":19},"generated":{"line":1,"column":2391}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":257,"column":19},"generated":{"line":1,"column":2393}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":257,"column":19},"generated":{"line":1,"column":2404}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":257,"column":29},"generated":{"line":1,"column":2414}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":258,"column":3},"generated":{"line":1,"column":2430}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":258,"column":13},"generated":{"line":1,"column":2432}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":258,"column":13},"generated":{"line":1,"column":2434}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":258,"column":13},"generated":{"line":1,"column":2445}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":258,"column":23},"generated":{"line":1,"column":2455}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":258,"column":36},"generated":{"line":1,"column":2468}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":2483}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":2491}},{"source":"../../../Tone/source/UserMedia.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":2501}}],"sources":{"../../../Tone/source/UserMedia.ts":"import { connect, OutputNode, ToneAudioNode, ToneAudioNodeOptions } from \"../core/context/ToneAudioNode\";\nimport { Decibels } from \"../core/type/Units\";\nimport { Volume } from \"../component/channel/Volume\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { assert } from \"../core/util/Debug\";\nimport { Param } from \"../core/context/Param\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { isDefined, isNumber } from \"../core/util/TypeCheck\";\n\nexport interface UserMediaOptions extends ToneAudioNodeOptions {\n\tvolume: Decibels;\n\tmute: boolean;\n}\n/**\n * UserMedia uses MediaDevices.getUserMedia to open up and external microphone or audio input. \n * Check [MediaDevices API Support](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)\n * to see which browsers are supported. Access to an external input\n * is limited to secure (HTTPS) connections.\n * @example\n * const meter = new Tone.Meter();\n * const mic = new Tone.UserMedia().connect(meter);\n * mic.open().then(() => {\n * \t// promise resolves when input is available\n * \tconsole.log(\"mic open\");\n * \t// print the incoming mic levels in decibels\n * \tsetInterval(() => console.log(meter.getValue()), 100);\n * }).catch(e => {\n * \t// promise is rejected when the user doesn't have or allow mic access\n * \tconsole.log(\"mic not open\");\n * });\n * @category Source\n */\n\nexport class UserMedia extends ToneAudioNode<UserMediaOptions> {\n\n\treadonly name: string = \"UserMedia\";\n\n\treadonly input: undefined;\n\treadonly output: OutputNode;\n\n\t/**\n\t * The MediaStreamNode\n\t */\n\tprivate _mediaStream?: MediaStreamAudioSourceNode;\n\n\t/**\n\t * The media stream created by getUserMedia.\n\t */\n\tprivate _stream?: MediaStream;\n\n\t/**\n\t * The open device\n\t */\n\tprivate _device?: MediaDeviceInfo;\n\n\t/**\n\t * The output volume node\n\t */\n\tprivate _volume: Volume;\n\n\t/**\n\t * The volume of the output in decibels.\n\t */\n\treadonly volume: Param<\"decibels\">;\n\n\t/**\n\t * @param volume The level of the input in decibels\n\t */\n\tconstructor(volume?: Decibels);\n\tconstructor(options?: Partial<UserMediaOptions>);\n\tconstructor() {\n\n\t\tsuper(optionsFromArguments(UserMedia.getDefaults(), arguments, [\"volume\"]));\n\t\tconst options = optionsFromArguments(UserMedia.getDefaults(), arguments, [\"volume\"]);\n\n\t\tthis._volume = this.output = new Volume({\n\t\t\tcontext: this.context,\n\t\t\tvolume: options.volume,\n\t\t});\n\t\tthis.volume = this._volume.volume;\n\t\treadOnly(this, \"volume\");\n\t\tthis.mute = options.mute;\n\t}\n\n\tstatic getDefaults(): UserMediaOptions {\n\t\treturn Object.assign(ToneAudioNode.getDefaults(), {\n\t\t\tmute: false,\n\t\t\tvolume: 0\n\t\t});\n\t}\n\n\t/**\n\t * Open the media stream. If a string is passed in, it is assumed\n\t * to be the label or id of the stream, if a number is passed in,\n\t * it is the input number of the stream.\n\t * @param  labelOrId The label or id of the audio input media device.\n\t *                   With no argument, the default stream is opened.\n\t * @return The promise is resolved when the stream is open.\n\t */\n\tasync open(labelOrId?: string | number): Promise<this> {\n\t\tassert(UserMedia.supported, \"UserMedia is not supported\");\n\t\t// close the previous stream\n\t\tif (this.state === \"started\") {\n\t\t\tthis.close();\n\t\t}\n\t\tconst devices = await UserMedia.enumerateDevices();\n\t\tif (isNumber(labelOrId)) {\n\t\t\tthis._device = devices[labelOrId];\n\t\t} else {\n\t\t\tthis._device = devices.find((device) => {\n\t\t\t\treturn device.label === labelOrId || device.deviceId === labelOrId;\n\t\t\t});\n\t\t\t// didn't find a matching device\n\t\t\tif (!this._device && devices.length > 0) {\n\t\t\t\tthis._device = devices[0];\n\t\t\t}\n\t\t\tassert(isDefined(this._device), `No matching device ${labelOrId}`);\n\t\t}\n\t\t// do getUserMedia\n\t\tconst constraints = {\n\t\t\taudio: {\n\t\t\t\techoCancellation: false,\n\t\t\t\tsampleRate: this.context.sampleRate,\n\t\t\t\tnoiseSuppression: false,\n\t\t\t\tmozNoiseSuppression: false,\n\t\t\t}\n\t\t};\n\t\tif (this._device) {\n\t\t\t// @ts-ignore\n\t\t\tconstraints.audio.deviceId = this._device.deviceId;\n\t\t}\n\t\tconst stream = await navigator.mediaDevices.getUserMedia(constraints);\n\t\t// start a new source only if the previous one is closed\n\t\tif (!this._stream) {\n\t\t\tthis._stream = stream;\n\t\t\t// Wrap a MediaStreamSourceNode around the live input stream.\n\t\t\tconst mediaStreamNode = this.context.createMediaStreamSource(stream);\n\t\t\t// Connect the MediaStreamSourceNode to a gate gain node\n\t\t\tconnect(mediaStreamNode, this.output);\n\t\t\tthis._mediaStream = mediaStreamNode;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Close the media stream\n\t */\n\tclose(): this {\n\t\tif (this._stream && this._mediaStream) {\n\t\t\tthis._stream.getAudioTracks().forEach((track) => {\n\t\t\t\ttrack.stop();\n\t\t\t});\n\t\t\tthis._stream = undefined;\n\t\t\t// remove the old media stream\n\t\t\tthis._mediaStream.disconnect();\n\t\t\tthis._mediaStream = undefined;\n\t\t}\n\t\tthis._device = undefined;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns a promise which resolves with the list of audio input devices available.\n\t * @return The promise that is resolved with the devices\n\t * @example\n\t * Tone.UserMedia.enumerateDevices().then((devices) => {\n\t * \t// print the device labels\n\t * \tconsole.log(devices.map(device => device.label));\n\t * });\n\t */\n\tstatic async enumerateDevices(): Promise<MediaDeviceInfo[]> {\n\t\tconst allDevices = await navigator.mediaDevices.enumerateDevices();\n\t\treturn allDevices.filter(device => {\n\t\t\treturn device.kind === \"audioinput\";\n\t\t});\n\t}\n\n\t/**\n\t * Returns the playback state of the source, \"started\" when the microphone is open\n\t * and \"stopped\" when the mic is closed.\n\t */\n\tget state() {\n\t\treturn this._stream && this._stream.active ? \"started\" : \"stopped\";\n\t}\n\n\t/**\n\t * Returns an identifier for the represented device that is\n\t * persisted across sessions. It is un-guessable by other applications and\n\t * unique to the origin of the calling application. It is reset when the\n\t * user clears cookies (for Private Browsing, a different identifier is\n\t * used that is not persisted across sessions). Returns undefined when the\n\t * device is not open.\n\t */\n\tget deviceId(): string | undefined {\n\t\tif (this._device) {\n\t\t\treturn this._device.deviceId;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Returns a group identifier. Two devices have the\n\t * same group identifier if they belong to the same physical device.\n\t * Returns null  when the device is not open.\n\t */\n\tget groupId(): string | undefined {\n\t\tif (this._device) {\n\t\t\treturn this._device.groupId;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Returns a label describing this device (for example \"Built-in Microphone\").\n\t * Returns undefined when the device is not open or label is not available\n\t * because of permissions.\n\t */\n\tget label(): string | undefined {\n\t\tif (this._device) {\n\t\t\treturn this._device.label;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Mute the output.\n\t * @example\n\t * const mic = new Tone.UserMedia();\n\t * mic.open().then(() => {\n\t * \t// promise resolves when input is available\n\t * });\n\t * // mute the output\n\t * mic.mute = true;\n\t */\n\tget mute(): boolean {\n\t\treturn this._volume.mute;\n\t}\n\tset mute(mute) {\n\t\tthis._volume.mute = mute;\n\t}\n\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis.close();\n\t\tthis._volume.dispose();\n\t\tthis.volume.dispose();\n\t\treturn this;\n\t}\n\n\t/**\n\t * If getUserMedia is supported by the browser.\n\t */\n\tstatic get supported(): boolean {\n\t\treturn isDefined(navigator.mediaDevices) &&\n\t\t\tisDefined(navigator.mediaDevices.getUserMedia);\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"c8547444d047213f7e2fb6afebca66b0","cacheData":{"env":{}}}