{"id":"IbG8","dependencies":[{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\OfflineContext.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\Tone\\core\\context\\OfflineContext.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\package.json","includedInParent":true,"mtime":1596313565786},{"name":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\package.json","includedInParent":true,"mtime":1596312949653},{"name":"tslib","loc":{"line":1,"column":26},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\OfflineContext.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tslib\\tslib.es6.js"},{"name":"../context/AudioContext","loc":{"line":2,"column":42},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\OfflineContext.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\AudioContext.js"},{"name":"../context/Context","loc":{"line":3,"column":24},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\OfflineContext.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\Context.js"},{"name":"../util/AdvancedTypeCheck","loc":{"line":4,"column":38},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\OfflineContext.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\util\\AdvancedTypeCheck.js"},{"name":"./ToneAudioBuffer","loc":{"line":5,"column":32},"parent":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\OfflineContext.js","resolved":"C:\\Users\\natal\\Documents\\chord-holder-v1\\node_modules\\tone\\build\\esm\\core\\context\\ToneAudioBuffer.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.OfflineContext=void 0;var e=require(\"tslib\"),t=require(\"../context/AudioContext\"),i=require(\"../context/Context\"),r=require(\"../util/AdvancedTypeCheck\"),n=require(\"./ToneAudioBuffer\");class o extends i.Context{constructor(){super({clockSource:\"offline\",context:(0,r.isOfflineAudioContext)(arguments[0])?arguments[0]:(0,t.createOfflineAudioContext)(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:(0,r.isOfflineAudioContext)(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name=\"OfflineContext\",this._currentTime=0,this.isOffline=!0,this._duration=(0,r.isOfflineAudioContext)(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit(\"tick\"),this._currentTime+=128/this.sampleRate,e++;const i=Math.floor(this.sampleRate/128);t&&e%i==0&&(yield new Promise(e=>setTimeout(e,1)))}})}render(t=!0){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new n.ToneAudioBuffer(e)})}close(){return Promise.resolve()}}exports.OfflineContext=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":0}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":13}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":20}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":35}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":43}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":56}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":57}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":64}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":68}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":76}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":96}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":98}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":102}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":104}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":112}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":160}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":168}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":200}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":229}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":231}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":239}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":260}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":13},"generated":{"line":1,"column":266}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":1,"column":276}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":278}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":50,"column":1},"generated":{"line":1,"column":286}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":300}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":306}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":53,"column":3},"generated":{"line":1,"column":307}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":319}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":54,"column":3},"generated":{"line":1,"column":329}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":338}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":1,"column":340}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":1,"column":342}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":1,"column":365}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":54,"column":44},"generated":{"line":1,"column":375}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":379}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":14},"generated":{"line":1,"column":389}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":19},"generated":{"line":1,"column":393}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":45},"generated":{"line":1,"column":395}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":45},"generated":{"line":1,"column":397}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":45},"generated":{"line":1,"column":424}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":55},"generated":{"line":1,"column":434}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":59},"generated":{"line":1,"column":437}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":69},"generated":{"line":1,"column":447}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":74},"generated":{"line":1,"column":450}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":84},"generated":{"line":1,"column":460}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":88},"generated":{"line":1,"column":463}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":55,"column":98},"generated":{"line":1,"column":473}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":56,"column":3},"generated":{"line":1,"column":477}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":487}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":57,"column":3},"generated":{"line":1,"column":489}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":57,"column":19},"generated":{"line":1,"column":505}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":57,"column":41},"generated":{"line":1,"column":507}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":57,"column":41},"generated":{"line":1,"column":509}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":57,"column":41},"generated":{"line":1,"column":532}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":57,"column":51},"generated":{"line":1,"column":542}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":546}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":550}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":20},"generated":{"line":1,"column":560}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":23},"generated":{"line":1,"column":563}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":36},"generated":{"line":1,"column":574}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":42},"generated":{"line":1,"column":578}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":58,"column":52},"generated":{"line":1,"column":588}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":593}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":598}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":603}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":620}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":625}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":1,"column":638}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":640}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":645}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":656}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":7},"generated":{"line":1,"column":658}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":7},"generated":{"line":1,"column":663}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":19},"generated":{"line":1,"column":674}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":676}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":678}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":701}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":61,"column":51},"generated":{"line":1,"column":711}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":3},"generated":{"line":1,"column":715}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":725}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":728}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":25},"generated":{"line":1,"column":735}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":35},"generated":{"line":1,"column":745}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":38},"generated":{"line":1,"column":748}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":51},"generated":{"line":1,"column":759}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":62,"column":61},"generated":{"line":1,"column":769}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":68,"column":1},"generated":{"line":1,"column":772}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":778}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":785}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":69,"column":14},"generated":{"line":1,"column":790}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":75,"column":5},"generated":{"line":1,"column":803}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":821}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":828}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":76,"column":14},"generated":{"line":1,"column":833}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":82,"column":15},"generated":{"line":1,"column":846}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":82,"column":28},"generated":{"line":1,"column":859}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":862}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":869}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":871}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":873}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":884}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":894}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":901}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":903}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":915}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":919}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":83,"column":14},"generated":{"line":1,"column":921}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":9},"generated":{"line":1,"column":923}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":9},"generated":{"line":1,"column":928}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":14},"generated":{"line":1,"column":933}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":943}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":31},"generated":{"line":1,"column":948}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":47},"generated":{"line":1,"column":962}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":84,"column":50},"generated":{"line":1,"column":965}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":966}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":971}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":976}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":984}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":989}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":90,"column":24},"generated":{"line":1,"column":1003}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":90,"column":30},"generated":{"line":1,"column":1007}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":90,"column":35},"generated":{"line":1,"column":1012}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":93,"column":3},"generated":{"line":1,"column":1023}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":9},"generated":{"line":1,"column":1027}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":9},"generated":{"line":1,"column":1033}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":22},"generated":{"line":1,"column":1035}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":27},"generated":{"line":1,"column":1040}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":33},"generated":{"line":1,"column":1046}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":38},"generated":{"line":1,"column":1051}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":94,"column":51},"generated":{"line":1,"column":1062}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":95,"column":7},"generated":{"line":1,"column":1067}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":95,"column":23},"generated":{"line":1,"column":1070}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":95,"column":31},"generated":{"line":1,"column":1072}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":95,"column":46},"generated":{"line":1,"column":1075}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":96,"column":10},"generated":{"line":1,"column":1085}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":96,"column":14},"generated":{"line":1,"column":1089}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":96,"column":22},"generated":{"line":1,"column":1097}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":96,"column":30},"generated":{"line":1,"column":1100}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":96,"column":41},"generated":{"line":1,"column":1111}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":96,"column":47},"generated":{"line":1,"column":1113}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":105,"column":7},"generated":{"line":1,"column":1121}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":105,"column":14},"generated":{"line":1,"column":1128}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":105,"column":29},"generated":{"line":1,"column":1131}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1134}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1141}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1143}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1145}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1156}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1166}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1173}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1175}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":1193}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":106,"column":13},"generated":{"line":1,"column":1198}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":1,"column":1223}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":1,"column":1228}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":107,"column":26},"generated":{"line":1,"column":1241}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":1244}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":1250}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":108,"column":23},"generated":{"line":1,"column":1258}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":108,"column":28},"generated":{"line":1,"column":1263}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":108,"column":37},"generated":{"line":1,"column":1272}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":109,"column":9},"generated":{"line":1,"column":1289}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":109,"column":9},"generated":{"line":1,"column":1296}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":109,"column":13},"generated":{"line":1,"column":1300}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":109,"column":9},"generated":{"line":1,"column":1302}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":109,"column":29},"generated":{"line":1,"column":1318}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":115,"column":1},"generated":{"line":1,"column":1323}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":116,"column":9},"generated":{"line":1,"column":1331}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":116,"column":9},"generated":{"line":1,"column":1338}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":116,"column":17},"generated":{"line":1,"column":1346}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1357}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1365}},{"source":"../../../../Tone/core/context/OfflineContext.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":1380}}],"sources":{"../../../../Tone/core/context/OfflineContext.ts":"import { createOfflineAudioContext } from \"../context/AudioContext\";\nimport { Context } from \"../context/Context\";\nimport { Seconds } from \"../type/Units\";\nimport { isOfflineAudioContext } from \"../util/AdvancedTypeCheck\";\nimport { ToneAudioBuffer } from \"./ToneAudioBuffer\";\n\n/**\n * Wrapper around the OfflineAudioContext\n * @category Core\n * @example\n * // generate a single channel, 0.5 second buffer\n * const context = new Tone.OfflineContext(1, 0.5, 44100);\n * const osc = new Tone.Oscillator({ context });\n * context.render().then(buffer => {\n * \tconsole.log(buffer.numberOfChannels, buffer.duration);\n * });\n */\nexport class OfflineContext extends Context {\n\n\treadonly name: string = \"OfflineContext\";\n\n\t/**\n\t * A private reference to the duration\n\t */\n\tprivate readonly _duration: Seconds;\n\n\t/**\n\t * An artificial clock source\n\t */\n\tprivate _currentTime: Seconds = 0;\n\n\t/**\n\t * Private reference to the OfflineAudioContext.\n\t */\n\tprotected _context!: OfflineAudioContext;\n\n\treadonly isOffline: boolean = true;\n\n\t/**\n\t * @param  channels  The number of channels to render\n\t * @param  duration  The duration to render in seconds\n\t * @param sampleRate the sample rate to render at\n\t */\n\tconstructor(\n\t\tchannels: number,\n\t\tduration: Seconds, \n\t\tsampleRate: number,\n\t);\n\tconstructor(context: OfflineAudioContext);\n\tconstructor() {\n\n\t\tsuper({\n\t\t\tclockSource: \"offline\",\n\t\t\tcontext: isOfflineAudioContext(arguments[0]) ?\n\t\t\t\targuments[0] : createOfflineAudioContext(arguments[0], arguments[1] * arguments[2], arguments[2]),\n\t\t\tlookAhead: 0,\n\t\t\tupdateInterval: isOfflineAudioContext(arguments[0]) ?\n\t\t\t\t128 / arguments[0].sampleRate : 128 / arguments[2],\n\t\t});\n\n\t\tthis._duration = isOfflineAudioContext(arguments[0]) ?\n\t\t\targuments[0].length / arguments[0].sampleRate : arguments[1];\n\t}\n\n\t/**\n\t * Override the now method to point to the internal clock time\n\t */\n\tnow(): Seconds {\n\t\treturn this._currentTime;\n\t}\n\n\t/**\n\t * Same as this.now()\n\t */\n\tget currentTime(): Seconds {\n\t\treturn this._currentTime;\n\t}\n\n\t/**\n\t * Render just the clock portion of the audio context.\n\t */\n\tprivate async _renderClock(asynchronous: boolean): Promise<void> {\n\t\tlet index = 0;\n\t\twhile (this._duration - this._currentTime >= 0) {\n\n\t\t\t// invoke all the callbacks on that time\n\t\t\tthis.emit(\"tick\");\n\n\t\t\t// increment the clock in block-sized chunks\n\t\t\tthis._currentTime += 128 / this.sampleRate;\n\n\t\t\t// yield once a second of audio\n\t\t\tindex++;\n\t\t\tconst yieldEvery = Math.floor(this.sampleRate / 128);\n\t\t\tif (asynchronous && index % yieldEvery === 0) {\n\t\t\t\tawait new Promise(done => setTimeout(done, 1));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Render the output of the OfflineContext\n\t * @param asynchronous If the clock should be rendered asynchronously, which will not block the main thread, but be slightly slower.\n\t */\n\tasync render(asynchronous = true): Promise<ToneAudioBuffer> {\n\t\tawait this.workletsAreReady();\n\t\tawait this._renderClock(asynchronous);\n\t\tconst buffer = await this._context.startRendering();\n\t\treturn new ToneAudioBuffer(buffer);\n\t}\n\n\t/**\n\t * Close the context\n\t */\n\tclose(): Promise<void> {\n\t\treturn Promise.resolve();\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"19445c1552e685486dc75129bf8fce0f","cacheData":{"env":{}}}